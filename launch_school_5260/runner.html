<!doctype html>
<html lang='en-US'>
<head>
  <title>runner</title>
  <meta charset='utf-8'>
  <link href='lib/whitespace_reset.css' rel='stylesheet'>
  <!-- <script src='lib/good_fns_lite.js'></script> -->
  <script src='../lib/good_functions.js'></script>
  <script src='lib/jquery.js'></script>
  <script src='lib/underscore.js'></script>
  <script src='lib/backbone.js'></script>
  <script src='lib/handlebars.js'></script>
</head>
<body>


<!--====================================================================================--><script>;

// const toQueryString = obj => {
//   return Object.entries(obj).map(([k, v]) => {
//     return Array.isArray(v) ? v.map(x => `${k}=${x}`).join('&') : `${k}=${v}`
//   }).join('&')
// }

// const toQueryString = obj => {
//   return Object.keys(obj).map(key => {
//     let val = obj[key]
//     return Array.isArray(val) ? val.map(v => `${key}=${v}`).join('&') : `${key}=${val}`
//   }).join('&')
// }

const toQueryString = obj => (
  Object.keys(obj).map(key => {
    let val = obj[key]
    return Array.isArray(val) ? val.map(v => `${key}=${v}`).join('&') : `${key}=${val}`
  }).join('&')
)

describe('toQueryString', () => {
  it('should stringify some objects', () => {
    Test.assertEquals(
      toQueryString({ foo: 1, bar: 2 }),
      'foo=1&bar=2'
    )
  })

  it('should stringify array values too', () => {
    Test.assertEquals(
      toQueryString({ foo: [1, 3], bar: [2, 4] }),
      'foo=1&foo=3&bar=2&bar=4'
    )
  })

  it('should stringify not only foo and bar', () => {
    Test.assertEquals(
      toQueryString({ a: 'Z', b: 'Y', c: 'X', d: 'W', e: 'V', f: 'U', g: 'T' }),
      'a=Z&b=Y&c=X&d=W&e=V&f=U&g=T'
    )
  })
})

/*======================================================================================*/;</script>
</body>
</html>
